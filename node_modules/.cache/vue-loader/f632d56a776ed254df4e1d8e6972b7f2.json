{"remainingRequest":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\src\\pages\\city\\components\\alphabet.vue?vue&type=style&index=0&id=cca171a8&lang=stylus&scoped=true&","dependencies":[{"path":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\src\\pages\\city\\components\\alphabet.vue","mtime":1596367404000},{"path":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\node_modules\\css-loader\\index.js","mtime":1708077612774},{"path":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1708077599748},{"path":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\node_modules\\postcss-loader\\src\\index.js","mtime":1708077605406},{"path":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\node_modules\\stylus-loader\\index.js","mtime":1708077599179},{"path":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1708077614823},{"path":"C:\\Users\\Lenovo\\Downloads\\Compressed\\travel-master\\travel-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1708077599485}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.alphabet {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: absolute;\n  z-index: 1000;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 0.4rem;\n  padding: 35% 0 20%;\n\n  li {\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.24rem;\n  }\n}\n",{"version":3,"sources":["alphabet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"alphabet.vue","sourceRoot":"src/pages/city/components","sourcesContent":["<template>\n  <ul class=\"alphabet\">\n    <li\n      v-for=\"item in letterArr\"\n      :key=\"item\"\n      :ref=\"item\"\n      @click=\"handleClick\"\n      @touchstart=\"handleTouchStart\"\n      @touchmove.prevent=\"handleTouchMove\"\n      @touchend=\"handleTouchEnd\"\n    >\n      {{ item }}\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'city-alphabet',\n  props: {\n    cityList: Object\n  },\n  mounted() {\n    this.sign = this.$refs['#'][0]\n  },\n  data() {\n    return {\n      // 触摸开始的标识\n      isTouched: false,\n      // 触摸的字母索引\n      touchIndex: 0,\n      // 字母列表#\n      sign: null,\n      // 节流定时器\n      timer: null\n    }\n  },\n  computed: {\n    // 提取字母列表，且第一个元素为#\n    letterArr() {\n      const arr = ['#']\n      for (let key in this.cityList) {\n        arr.push(key)\n      }\n      return arr\n    }\n  },\n  watch: {\n    // 索引变化后，向外触发事件，传递触摸的字母\n    touchIndex(i) {\n      // 索引值最小为0，最大为数组长度-1\n      if (i >= 0 && i < this.letterArr.length) {\n        this.$emit('change', this.letterArr[i])\n      }\n    }\n  },\n  methods: {\n    // 点击字母列表后，向外触发事件，传递点击的字母\n    handleClick(e) {\n      this.$emit('change', e.target.innerText)\n    },\n    handleTouchStart() {\n      this.isTouched = true\n    },\n    handleTouchMove(e) {\n      if (this.timer) clearTimeout(this.timer)\n      this.timer = setTimeout(() => {\n        if (this.isTouched) {\n          let sign = this.sign\n          this.touchIndex = Math.floor(\n            (e.touches[0].clientY - sign.offsetTop) / sign.offsetHeight\n          )\n        }\n      }, 16)\n    },\n    handleTouchEnd() {\n      this.isTouched = false\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.alphabet {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: absolute;\n  z-index: 1000;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 0.4rem;\n  padding: 35% 0 20%;\n\n  li {\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.24rem;\n  }\n}\n</style>\n"]}]}